(this["webpackJsonpchapter-map"]=this["webpackJsonpchapter-map"]||[]).push([[0],{14:function(t,n,e){},15:function(t,n,e){},16:function(t,n,e){},18:function(t,n,e){"use strict";e.r(n);var r=e(1),i=e.n(r),o=e(9),c=e.n(o),l=(e(14),e(15),e(3)),u=e(5),s=(e(16),e(0)),a=function(t){var n=t.length,e=void 0===n?27:n,r=t.onClick,i=void 0===r?function(){}:r,o=t.onContextMenu,c=void 0===o?function(){}:o,l=t.onMouseDown,u=void 0===l?function(){}:l,a=t.onMouseUp,d=void 0===a?function(){}:a,f=t.onMouseEnter,j=void 0===f?function(){}:f,x=t.onMouseLeave,h=void 0===x?function(){}:x;return Object(s.jsx)(s.Fragment,{children:new Array(e+1).fill(void 0).map((function(t,n){if(0===n)return null;var e=m(n),r=50*e.x,o=50*e.y;return Object(s.jsxs)("g",{className:"grid-block",transform:"translate(".concat(r,", ").concat(o,")"),children:[Object(s.jsx)("text",{x:25,y:25,style:{dominantBaseline:"middle"},children:n}),Object(s.jsx)("rect",{width:50,height:50,onClick:function(){return i(n)},onMouseDown:function(){return u(n)},onMouseUp:function(){return d(n)},onMouseEnter:function(){return j(n)},onMouseLeave:function(){return h(n)},onContextMenu:function(t){t.preventDefault(),c(n)}})]},n)}))})},d=e(8),f=50,j=50,x=function(t,n,e){return Math.max(n,Math.min(e,t))},h=function(t){for(var n=t.group,e=t.groupDimension,r=void 0===e?{width:2,height:5}:e,i=t.onClick,o=void 0===i?function(){}:i,c=t.onContextMenu,l=void 0===c?function(){}:c,u=t.onMouseDown,a=void 0===u?function(){}:u,h=t.onMouseUp,b=void 0===h?function(){}:h,g=t.onMouseEnter,O=void 0===g?function(){}:g,v=t.onMouseLeave,p=void 0===v?function(){}:v,y=t.updateGroup,k=void 0===y?function(){}:y,C=n.start,w=n.end,D=n.fill,E=r.width,F=r.height,L=function(t,n){var e=M(t,n,F,E);return e>=C&&e<=w},N=[],S=function(t){var e=m(t,F,E),r=f*e.x,i=j*e.y;N.push(Object(s.jsxs)("g",{className:"group-block",transform:"translate(".concat(r,", ").concat(i,")"),children:[Object(s.jsx)("rect",{width:f,height:j,style:{fill:"hsla(".concat(D[0],", ").concat(D[1],"%, ").concat(D[2],"%, 0.8)")},onWheel:function(t){return e=t.deltaY,r=t.deltaX,i=0,k(Object(d.a)(Object(d.a)({},n),{},{fill:[x(D[0]+e,0,360),x(D[1]+r,0,100),x(D[2]+i,0,100)]}));var e,r,i},onClick:function(){return o(t)},onMouseDown:function(){return a(t)},onMouseUp:function(){return b(t)},onMouseEnter:function(){return O(t)},onMouseLeave:function(){return p(t)},onContextMenu:function(n){n.preventDefault(),l(t)}}),!L(e.x-1,e.y)&&Object(s.jsx)("line",{x1:0,y1:0,x2:0,y2:j,stroke:"black"}),!L(e.x,e.y-1)&&Object(s.jsx)("line",{x1:0,y1:0,x2:f,y2:0,stroke:"black"}),!L(e.x+1,e.y)&&Object(s.jsx)("line",{x1:f,y1:0,x2:f,y2:j,stroke:"black"}),!L(e.x,e.y+1)&&Object(s.jsx)("line",{x1:0,y1:j,x2:f,y2:j,stroke:"black"})]},t))},U=C;U<=w;U++)S(U);return Object(s.jsx)(s.Fragment,{children:N})},b=function(t){return Math.floor(Math.random()*t)},g=function(t,n,e){return{id:Math.floor(1e5*Math.random()),start:t,end:n,fill:e||[b(360),100,90]}},O=function(t){var n=t.length,e=Object(r.useState)(t.groups||[]),i=Object(u.a)(e,2),o=i[0],c=i[1],d=Object(r.useState)(null),f=Object(u.a)(d,2),j=f[0],x=f[1],O=j&&(j[0]<=j[1]?j[0]:j[1]),v=j&&(j[0]<=j[1]?j[1]:j[0]);Object(r.useEffect)((function(){window.addEventListener("mouseup",(function(){return x(null)}))}));var p=function(t){c((function(n){return[].concat(Object(l.a)(n),[t])}))},y=function(t){return j&&x((function(n){return n&&[j[0],t,n[2]]}))};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(a,{length:n,onClick:function(t){return p(g(t,t+1))},onContextMenu:function(t){return console.log(t,"right grid")},onMouseDown:function(t){return x([t,t,[b(360),100,90]])},onMouseEnter:y}),o.map((function(t,n){return Object(s.jsx)(h,{group:t,updateGroup:function(t){return c((function(e){return[].concat(Object(l.a)(e.slice(0,n)),[t],Object(l.a)(e.slice(n+1)))}))},onClick:function(t){return c((function(t){return[].concat(Object(l.a)(t.slice(0,n)),Object(l.a)(t.slice(n+1)))}))}},t.id)})),j&&O&&v&&Object(s.jsx)(h,{group:{id:0,start:O,end:v,fill:j[2]},onMouseUp:function(){return p(g(O||0,v||0,j[2]))},onMouseEnter:y})]})},v=function(t,n,e){return t[n]&&t[n][e]?t[n][e]:{i:-1,group:0}},p=function(){var t,n=50,e=50,i=Object(r.useState)((function(){return[0,2,1,1,1,2,2,2,2,1,1,1,2,2,2,2,1,1,1,2,2,1,2,2,2,2,1,1]})),o=Object(u.a)(i,2),c=o[0],l=o[1],a=(t=c,function(n,e){if(t[n]!==t[e])return!1;for(var r=n<e?e:n,i=n<e?n:e;i<r;i++)if(t[i]!==t[n])return!1;return!0}),d=function(t,n){return function(e){return l((function(r){e.preventDefault();var i=r.slice();return i[t]=i[t]+n,i}))}},f=function(t,n,e){var r=[];return t.forEach((function(t,i){var o=m(i,n,e),c=o.x,l=o.y;r[c]||(r[c]=[]),r[c][l]={i:i,group:t}})),r}(c,1e3);return Object(s.jsx)(s.Fragment,{children:c.map((function(t,r){if(0===r)return null;var i=m(r),o=m(r,1e3),l=n*i.x,u=e*i.y,j=v(f,o.x-1,o.y),x=v(f,o.x,o.y-1),h=v(f,o.x+1,o.y),b=v(f,o.x,o.y+1);return Object(s.jsxs)("g",{className:"hover ".concat(c[r]?"selected"+t:""),transform:"translate(".concat(l,", ").concat(u,")"),onClick:d(r,1),onContextMenu:d(r,-1),children:[Object(s.jsx)("rect",{width:n,height:e}),c[r]&&(!j.group||!a(r,j.i))&&Object(s.jsx)("line",{x1:0,y1:0,x2:0,y2:e,stroke:"black"}),c[r]&&(!x.group||!a(r,x.i))&&Object(s.jsx)("line",{x1:0,y1:0,x2:n,y2:0,stroke:"black"}),c[r]&&(!h.group||!a(r,h.i))&&Object(s.jsx)("line",{x1:n,y1:0,x2:n,y2:e,stroke:"black"}),c[r]&&(!b.group||!a(r,b.i))&&Object(s.jsx)("line",{x1:0,y1:e,x2:n,y2:e,stroke:"black"}),Object(s.jsx)("text",{x:25,y:25,style:{dominantBaseline:"middle"},children:r})]},r)}))})},y=e(2);var m=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return{x:(t-1)%e+(Math.ceil(t/(e*n))-1)*e,y:Math.ceil(((t-1)%(e*n)+1)/e)-1}},M=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return r*e*Math.floor(t/r)+r*n+t%r+1},k=function(){return Object(s.jsxs)("div",{className:"App",style:{height:"100vh"},children:[Object(s.jsx)("div",{className:"board",children:Object(s.jsxs)("svg",{width:"100%",height:"100%",children:[Object(s.jsx)("g",{transform:"translate(5000, 50)",children:Object(s.jsx)(p,{})}),Object(s.jsx)("g",{transform:"translate(50, 50)",children:Object(s.jsx)(O,{length:27,groups:y[0]})}),Object(s.jsx)("g",{transform:"translate(400, 50)",children:Object(s.jsx)(O,{length:26,groups:y[1]})}),Object(s.jsx)("g",{transform:"translate(50, 350)",children:Object(s.jsx)(O,{length:18,groups:y[2]})}),Object(s.jsx)("g",{transform:"translate(275, 350)",children:Object(s.jsx)(O,{length:17,groups:y[3]})}),Object(s.jsx)("g",{transform:"translate(500, 350)",children:Object(s.jsx)(O,{length:20,groups:y[4]})})]})}),Object(s.jsx)("h2",{style:{marginTop:0},children:"Chapter map"})]})},C=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,19)).then((function(n){var e=n.getCLS,r=n.getFID,i=n.getFCP,o=n.getLCP,c=n.getTTFB;e(t),r(t),i(t),o(t),c(t)}))};c.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(k,{})}),document.getElementById("root")),C()},2:function(t){t.exports=JSON.parse('[[{"id":9780,"start":2,"end":4,"fill":[56,93,90]},{"id":3709,"start":5,"end":8,"fill":[0,0,90]},{"id":44915,"start":9,"end":11,"fill":[198,100,90]},{"id":29072,"start":12,"end":15,"fill":[54,100,90]},{"id":74648,"start":16,"end":18,"fill":[150,100,90]},{"id":35867,"start":19,"end":21,"fill":[244,100,90]},{"id":29350,"start":22,"end":25,"fill":[40,24,90]},{"id":27566,"start":1,"end":1,"fill":[235,0,90]},{"id":23087,"start":26,"end":27,"fill":[136,0,90]}],[{"id":72407,"start":12,"end":13,"fill":[137,100,90]},{"id":80785,"start":8,"end":11,"fill":[183,100,90]},{"id":31133,"start":14,"end":17,"fill":[320,7,90]},{"id":61912,"start":1,"end":4,"fill":[231,86,90]},{"id":61277,"start":5,"end":7,"fill":[241,72,90]},{"id":66962,"start":18,"end":20,"fill":[6,100,90]},{"id":50082,"start":21,"end":24,"fill":[360,0,90]},{"id":88200,"start":25,"end":26,"fill":[360,0,90]}],[{"id":90809,"start":6,"end":12,"fill":[22,94,90]},{"id":43528,"start":13,"end":13,"fill":[113,100,90]},{"id":9120,"start":14,"end":16,"fill":[0,100,90]},{"id":49085,"start":17,"end":18,"fill":[113,73,90]},{"id":21147,"start":1,"end":2,"fill":[336,0,90]},{"id":24693,"start":3,"end":4,"fill":[325,0,90]},{"id":25371,"start":5,"end":5,"fill":[0,50,90]}],[{"id":6885,"start":1,"end":3,"fill":[76,0,90]},{"id":4699,"start":4,"end":5,"fill":[0,100,90]},{"id":23502,"start":6,"end":6,"fill":[180,100,90]},{"id":90925,"start":7,"end":10,"fill":[184,52,90]},{"id":38460,"start":11,"end":12,"fill":[217,99,90]},{"id":79891,"start":13,"end":17,"fill":[277,46,90]}],[{"id":27840,"start":1,"end":6,"fill":[24,100,90]},{"id":25836,"start":7,"end":12,"fill":[60,100,90]},{"id":33356,"start":19,"end":20,"fill":[233,100,90]},{"id":3449,"start":13,"end":15,"fill":[210,100,90]},{"id":12859,"start":16,"end":18,"fill":[201,100,90]}]]')}},[[18,1,2]]]);
//# sourceMappingURL=main.fef1adfd.chunk.js.map